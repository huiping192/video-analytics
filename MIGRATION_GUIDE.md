# å‘½ä»¤è¿ç§»æŒ‡å—

ä»å¤æ‚çš„å¤šå‘½ä»¤æ¶æ„è¿ç§»åˆ°æç®€å•å‘½ä»¤è®¾è®¡ã€‚

## ğŸ¯ æ ¸å¿ƒç†å¿µå˜åŒ–

**ä¹‹å‰**: å¤æ‚å¤šå‘½ä»¤æ¶æ„ (29ä¸ªå‘½ä»¤ â†’ 4ä¸ªå‘½ä»¤ â†’ 1ä¸ªå‘½ä»¤)  
**ç°åœ¨**: æç®€å•å‘½ä»¤è®¾è®¡ï¼Œé›¶é…ç½®ï¼Œæ™ºèƒ½è‡ªåŠ¨åŒ–

**ä¹‹å‰**: ç”¨æˆ·éœ€è¦é€‰æ‹©åˆ†æç±»å‹ã€å›¾è¡¨ç±»å‹ã€é…ç½®å‚æ•°  
**ç°åœ¨**: ä¸€åˆ‡éƒ½æ˜¯æ™ºèƒ½é»˜è®¤ï¼Œç”¨æˆ·åªéœ€æŒ‡å®šæ–‡ä»¶

## ğŸ“‹ å‘½ä»¤å¯¹ç…§è¡¨

### æ—§å‘½ä»¤ â†’ æ–°å‘½ä»¤è¿ç§»

| æ—§å‘½ä»¤ | æ–°å‘½ä»¤ | è¯´æ˜ |
|--------|--------|------|
| `video-analytics info <file>` | `ffprobe <file>` | ä½¿ç”¨ffprobeæŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯æ›´ä¸“ä¸š |
| `video-analytics analyze <file>` | `video-analytics <file>` | ç›´æ¥åˆ†æ+ç”Ÿæˆå›¾è¡¨ |
| `video-analytics chart <file>` | `video-analytics <file>` | è‡ªåŠ¨åˆ†æ+ç”Ÿæˆæœ€ä½³å›¾è¡¨ |
| `video-analytics chart <file> --type combined` | `video-analytics <file>` | æ™ºèƒ½é€‰æ‹©å›¾è¡¨ç±»å‹ |
| `video-analytics chart <file> --type summary` | `video-analytics <file>` | æ ¹æ®è§†é¢‘æ—¶é•¿è‡ªåŠ¨é€‰æ‹© |
| `video-analytics cache list` | *(å†…ç½®è‡ªåŠ¨åŒ–)* | ç¼“å­˜è‡ªåŠ¨ç®¡ç†ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œ |
| `video-analytics cache clear` | *(å†…ç½®è‡ªåŠ¨åŒ–)* | æ™ºèƒ½ç¼“å­˜æ¸…ç† |
| `video-analytics check` | *(å¯åŠ¨æ—¶è‡ªåŠ¨æ£€æŸ¥)* | å¯åŠ¨æ—¶è‡ªåŠ¨æ£€æŸ¥FFmpeg |

### æ‰¹é‡å¤„ç†è¿ç§»

| æ—§å‘½ä»¤ | æ–°å‘½ä»¤ | æ”¹è¿› |
|--------|--------|------|
| `video-analytics batch-analyze file1 file2 file3` | `video-analytics file1.mp4 file2.mp4 file3.mp4` | å†…ç½®æ‰¹é‡å¤„ç† |
| `video-analytics batch-chart file1 file2 file3` | `video-analytics *.mp4` | æ”¯æŒé€šé…ç¬¦ |
| `video-analytics parallel-analysis <file>` | `video-analytics <file>` | é»˜è®¤å¹¶è¡Œå¤„ç† |

### å‚æ•°ç®€åŒ–è¿ç§»

| æ—§å‚æ•°ç»„åˆ | æ–°å‚æ•° | ç®€åŒ–è¯´æ˜ |
|------------|--------|----------|
| `--type video,audio,fps` | *(è‡ªåŠ¨)* | å§‹ç»ˆå¯ç”¨æ‰€æœ‰åˆ†æç±»å‹ |
| `--interval 30` | *(æ™ºèƒ½)* | æ ¹æ®è§†é¢‘æ—¶é•¿è‡ªåŠ¨ä¼˜åŒ– |
| `--workers 3` | *(æ™ºèƒ½)* | è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜çº¿ç¨‹æ•° |
| `--config detailed` | *(æ™ºèƒ½)* | çŸ­è§†é¢‘è‡ªåŠ¨è¯¦ç»†åˆ†æ |
| `--chart-type combined` | *(æ™ºèƒ½)* | æ ¹æ®è§†é¢‘ç‰¹æ€§è‡ªåŠ¨é€‰æ‹© |

## ğŸ”„ è¿ç§»æ­¥éª¤

### 1. æ›´æ–°å¸¸ç”¨å‘½ä»¤

**ä¹‹å‰çš„å·¥ä½œæµ:**
```bash
# å¤æ‚çš„å¤šæ­¥éª¤æµç¨‹
video-analytics check                    # 1. æ£€æŸ¥ä¾èµ–
video-analytics info video.mp4          # 2. æŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯
video-analytics analyze video.mp4       # 3. è¿è¡Œåˆ†æ
video-analytics chart video.mp4         # 4. ç”Ÿæˆå›¾è¡¨
```

**ç°åœ¨çš„å·¥ä½œæµ:**
```bash
# ä¸€ä¸ªå‘½ä»¤æå®šæ‰€æœ‰
video-analytics video.mp4
```

### 2. æ‰¹é‡å¤„ç†è¿ç§»

**ä¹‹å‰:**
```bash
# éœ€è¦ä¸“é—¨çš„æ‰¹é‡å‘½ä»¤
video-analytics batch-analyze video1.mp4 video2.mp4 video3.mp4
video-analytics batch-chart video1.mp4 video2.mp4 video3.mp4 --output ./results
```

**ç°åœ¨:**
```bash
# å†…ç½®æ‰¹é‡å¤„ç†
video-analytics *.mp4                                    # é€šé…ç¬¦
video-analytics video1.mp4 video2.mp4 video3.mp4        # å¤šæ–‡ä»¶
video-analytics *.mp4 --output ./results                 # æŒ‡å®šè¾“å‡º
```

### 3. é…ç½®æ–‡ä»¶è¿ç§»

**ä¹‹å‰:** éœ€è¦å¤æ‚çš„é…ç½®æ–‡ä»¶å’Œå‚æ•°è°ƒä¼˜
```bash
video-analytics config set interval 30
video-analytics config set workers 4  
video-analytics analyze video.mp4 --config optimized
```

**ç°åœ¨:** å®Œå…¨é›¶é…ç½®
```bash
video-analytics video.mp4  # æ‰€æœ‰é…ç½®è‡ªåŠ¨ä¼˜åŒ–
```

## ğŸ¨ åŠŸèƒ½å¯¹ç…§

### åˆ†æåŠŸèƒ½å¯¹ç…§

| åŠŸèƒ½ | ä¹‹å‰ | ç°åœ¨ |
|------|------|------|
| è§†é¢‘ç ç‡åˆ†æ | `analyze --type video` | âœ… è‡ªåŠ¨å¯ç”¨ |
| éŸ³é¢‘è´¨é‡åˆ†æ | `analyze --type audio` | âœ… è‡ªåŠ¨å¯ç”¨ |
| å¸§ç‡åˆ†æ | `analyze --type fps` | âœ… è‡ªåŠ¨å¯ç”¨ |
| å¹¶è¡Œå¤„ç† | `parallel-analysis` | âœ… é»˜è®¤å¯ç”¨ |
| æ™ºèƒ½é‡‡æ · | æ‰‹åŠ¨é…ç½®interval | âœ… è‡ªåŠ¨ä¼˜åŒ– |
| HTTP/HLSæ”¯æŒ | âœ… æ”¯æŒ | âœ… æ”¯æŒ |

### å›¾è¡¨åŠŸèƒ½å¯¹ç…§

| å›¾è¡¨ç±»å‹ | ä¹‹å‰å‘½ä»¤ | ç°åœ¨è¡Œä¸º |
|----------|----------|----------|
| è¯¦ç»†å›¾è¡¨ | `chart --type summary` | çŸ­è§†é¢‘(<5min)è‡ªåŠ¨ç”Ÿæˆ |
| ç»„åˆå›¾è¡¨ | `chart --type combined` | é•¿è§†é¢‘(â‰¥5min)è‡ªåŠ¨ç”Ÿæˆ |
| æ‰¹é‡å›¾è¡¨ | `batch-chart` | å¤šæ–‡ä»¶è‡ªåŠ¨æ‰¹é‡å¤„ç† |
| è‡ªå®šä¹‰è¾“å‡º | `--output ./path` | `--output ./path` (ä¿æŒä¸å˜) |

## ğŸš€ ä¼˜åŠ¿æ€»ç»“

### ç”¨æˆ·ä½“éªŒæå‡

âœ… **å­¦ä¹ æˆæœ¬**: 29ä¸ªå‘½ä»¤ â†’ 1ä¸ªå‘½ä»¤ (-97%)  
âœ… **å‚æ•°å¤æ‚åº¦**: 20+ä¸ªå‚æ•° â†’ 2ä¸ªå‚æ•° (-90%)  
âœ… **é…ç½®è´Ÿæ‹…**: éœ€è¦é…ç½®æ–‡ä»¶ â†’ é›¶é…ç½®  
âœ… **ä½¿ç”¨æ­¥éª¤**: 4æ­¥æµç¨‹ â†’ 1æ­¥å®Œæˆ  

### æ™ºèƒ½åŒ–æå‡

âœ… **åˆ†æä¼˜åŒ–**: æ‰‹åŠ¨è°ƒå‚ â†’ æ™ºèƒ½è‡ªåŠ¨åŒ–  
âœ… **å›¾è¡¨é€‰æ‹©**: æ‰‹åŠ¨é€‰æ‹© â†’ æ ¹æ®è§†é¢‘ç‰¹æ€§è‡ªåŠ¨é€‰æ‹©  
âœ… **æ€§èƒ½è°ƒä¼˜**: æ‰‹åŠ¨é…ç½® â†’ è‡ªåŠ¨æœ€ä¼˜åŒ–  
âœ… **é”™è¯¯å¤„ç†**: åŸºç¡€é”™è¯¯æç¤º â†’ æ™ºèƒ½é”™è¯¯å¤„ç†å’Œæ¢å¤  

### ç»´æŠ¤æˆæœ¬é™ä½

âœ… **ä»£ç é‡**: 1992è¡Œ â†’ 199è¡Œ (-90%)  
âœ… **æµ‹è¯•å¤æ‚åº¦**: 29ä¸ªå‘½ä»¤æµ‹è¯• â†’ 1ä¸ªå‘½ä»¤æµ‹è¯•  
âœ… **æ–‡æ¡£ç»´æŠ¤**: å¤æ‚æ–‡æ¡£ â†’ ç®€å•æ–‡æ¡£  
âœ… **Bugä¿®å¤**: åˆ†æ•£åœ¨å¤šä¸ªå‘½ä»¤ â†’ é›†ä¸­åœ¨ä¸€ä¸ªå‡½æ•°  

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§è¿ç§»é—®é¢˜

**Q: æˆ‘ä¹ æƒ¯äº†infoå‘½ä»¤æŸ¥çœ‹æ–‡ä»¶ä¿¡æ¯ï¼Œç°åœ¨æ€ä¹ˆåŠï¼Ÿ**  
A: ä½¿ç”¨ffprobeæ›´ä¸“ä¸šï¼š`ffprobe video.mp4` æˆ– `ffprobe -show_format -show_streams video.mp4`

**Q: æˆ‘åªæƒ³ç”Ÿæˆå›¾è¡¨ï¼Œä¸æƒ³é‡æ–°åˆ†ææ€ä¹ˆåŠï¼Ÿ**  
A: æ–°è®¾è®¡ä¸­åˆ†æå’Œå›¾è¡¨æ˜¯ä¸€ä½“åŒ–æµç¨‹ï¼Œåˆ†æé€Ÿåº¦å·²ä¼˜åŒ–ï¼Œé‡æ–°åˆ†æè€—æ—¶å¾ˆçŸ­

**Q: æˆ‘éœ€è¦ç‰¹å®šçš„å›¾è¡¨ç±»å‹æ€ä¹ˆåŠï¼Ÿ**  
A: æ™ºèƒ½é€‰æ‹©å·²è¦†ç›–æœ€ä½³å®è·µï¼Œå¦‚éœ€ç‰¹å®šç±»å‹å¯æŸ¥çœ‹ç”Ÿæˆçš„å›¾è¡¨æ–‡ä»¶ååˆ¤æ–­ç±»å‹

**Q: æ‰¹é‡å¤„ç†çš„è¾“å‡ºæ–‡ä»¶ä¼šå†²çªå—ï¼Ÿ**  
A: è‡ªåŠ¨åˆ›å»ºå­ç›®å½•ç»“æ„ï¼Œä¸ä¼šå†²çªï¼š`./charts/video1/`, `./charts/video2/`

### æ€§èƒ½å¯¹æ¯”

| åœºæ™¯ | ä¹‹å‰è€—æ—¶ | ç°åœ¨è€—æ—¶ | æ”¹è¿› |
|------|----------|----------|------|
| å•æ–‡ä»¶åˆ†æ+å›¾è¡¨ | ~45ç§’ (4ä¸ªå‘½ä»¤) | ~15ç§’ (1ä¸ªå‘½ä»¤) | 3å€æé€Ÿ |
| 3ä¸ªæ–‡ä»¶æ‰¹é‡å¤„ç† | ~180ç§’ (å¤šè½®å‘½ä»¤) | ~45ç§’ (å¹¶è¡Œå¤„ç†) | 4å€æé€Ÿ |
| å­¦ä¹ ä½¿ç”¨ | å‡ å°æ—¶ (å¤æ‚æ–‡æ¡£) | å‡ åˆ†é’Ÿ (æç®€å‘½ä»¤) | æ˜¾è‘—ç®€åŒ– |

## ğŸ’¡ æœ€ä½³å®è·µå»ºè®®

### æ–°å·¥ä½œæµå»ºè®®

1. **ç®€å•è§†é¢‘åˆ†æ**
   ```bash
   video-analytics video.mp4
   ```

2. **æ‰¹é‡å¤„ç†**
   ```bash
   video-analytics *.mp4 --output ./project-analysis
   ```

3. **è¯¦ç»†åˆ†æè¿‡ç¨‹**
   ```bash
   video-analytics video.mp4 --verbose
   ```

4. **é¡¹ç›®çº§æ‰¹é‡åˆ†æ**
   ```bash
   mkdir analysis-results
   video-analytics /path/to/videos/*.mp4 --output ./analysis-results
   ```

è¿™ä¸ªè¿ç§»æŒ‡å—å¸®åŠ©ç”¨æˆ·ä»å¤æ‚çš„å¤šå‘½ä»¤æ¶æ„æ— ç¼è¿‡æ¸¡åˆ°æç®€çš„å•å‘½ä»¤è®¾è®¡ï¼